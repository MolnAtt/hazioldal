{% load static %}
{% load repofilterek %}
<!DOCTYPE html>
<html lang="hu">
<head>
    {# META #}
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    {# google font import -- roboto slab #}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab&display=swap" rel="stylesheet">

    {# favicon.ico #}
    <link rel="shortcut icon" type="image/png" href="{% static 'pic/favicon.ico' %}"/>

    {# CSS-fájlok #}
    <link rel="stylesheet" href="{% static 'css/general.css' %}">
    <link rel="stylesheet" href="{% static 'css/header.css' %}">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <link rel="stylesheet" href="{% static 'css/hf.css' %}">
    <link rel="stylesheet" href="{% static 'css/footer.css' %}">

    {# JS-fájlok #}
    <script src="{% static 'js/general.js' %}"></script>
    <script src="{% static 'js/fetch.js' %}"></script>
    <script src="{% static 'js/hf.js' %}"></script>


    {# Egyéb #}
    <title>Document</title>

</head>
<body>
    {% include "header.html" %}

    {# MAIN #}

    <div class="forumhatter">    
        <h1 class="cim forumcim text-center">{{ hf.kituzes.feladat.nev }}</h1>
        <div class="repo-doboz">
            <div class="menusor">Státusz</div>
            {% if hf.allapot == "NINCS_REPO" %}
                <div class="info">A feladat repora vár</div>
            {% elif hf.allapot == "NINCS_MO" %}
                <div class="info">A feladat megoldásra vár</div>
            {% elif hf.allapot == "NINCS_BIRALAT" %}
                <div class="info">A feladat bírálatra vár</div>
            {% elif hf.allapot == "VAN_NEGATIV_BIRALAT" %}
                <div class="info">A mentoráltnak ki kell javítania a hibákat</div>
            {% elif hf.allapot == "MINDEN_BIRALAT_POZITIV" %}
                <div class="info">A feladat sikeresen lezárva</div>
            {% endif %}
            <!-- <a class="repo-cim keklink" href="{{ hf.kituzes.feladat.url }}">{{ hf.kituzes.feladat.nev }}</a> -->
            <div class="menusor">Feladat</div>
            <a href="{{ hf.kituzes.feladat.url }}"><button class="gomb kek feladat">Feleadatleírás megtekintése</button></a>
            <div class="menusor">Github link</div>
            <input type="text" class="inputdata {% if mentoralt_vagyok %}sajat {%endif%}" id="input_url" value="{{ hf.url }}" {% if not mentoralt_vagyok %} disabled {% endif %}>
            <div class="forumbutton">
                <button class="gomb kek" href="{{ hf.url }}" id="githublink" target="_blank">GitHub</button>
                {% if mentoralt_vagyok %}
                    <button class="gomb kek" id="update">Frissítés</button>
                {% endif %}
            </div>
            
            
            
        </div>
        <div class="separator"></div>
        
        {% for mobir in megoldasok_es_biralatok %}
            {% if mobir.megoldas %}
                <div class="megoldasdoboz">
                        <div class="mo-ido">{{ mobir.tartalom.ido|ehnop }}</div>
                    
                    <div class="bubble right">
                        <div class="username-right">{{ mobir.tartalom.hf.user.last_name }} {{ mobir.tartalom.hf.user.first_name }}</div>
                        <p>
                            {{ mobir.tartalom.szoveg }}
                        </p>
                        
                    </div>
                </div>
            {% else %}
                <div class="biralatdoboz">
                    <div class="bi-ido">{{ mobir.tartalom.ido|ehnop }}</div>    
                    <div class="bubbleflex">   
                        <div class="bubble left">
                            <div class="username-left">{{ mobir.tartalom.mentor.last_name }} {{ mobir.tartalom.mentor.first_name }}</div>
                            <p>
                                {{ mobir.tartalom.szoveg }}
                            </p>
                            <p class="bi-itelet2">Bírálat: <span>{{ mobir.tartalom.itelet }}</span></p>
                        </div>
                        {% if mentor_vagyok and user == mobir.tartalom.mentor %}
                        <div class="bi-torol">
                                <button class="linkgomb biralatot_torol" value="{{ mobir.tartalom.id }}">Töröl</button>
                            </div>
                        {% endif %}
                    </div>
                    
                </div>
            {% endif %}
        {% endfor %}
        
        <!-- {% if mentoralt_vagyok and uj_megoldast_adhatok_be %}
            <div class="mo-editor-doboz">
                <div id="mo-editor-cim">Új megoldás beadása</div>
                <textarea id="mo-editor-textarea" cols="30" rows="10"></textarea>
                <button id="bead">Bead</button>
            </div>
        {% endif %}
        
        {% if mentor_vagyok and uj_biralatot_rogzithetek %}
        <div class="bi-editor-doboz">
            <div id="bi-editor-cim">Új mentorálás rögzítése</div>
            <textarea id="bi-editor-textarea" cols="30" rows="10"></textarea>
            <select id="bi-itelet-select">
                <option value="Elfogadva">Elfogadva</option>
                <option value="Hibás">Hibás</option>
                <option value="Hiányos">Hiányos</option>
                <option value="Értékelhetetlen">Értékelhetetlen</option>
            </select>
            <button id="biral">Küld</button>
        </div>         -->
        {% endif %}


    </div>


    {# FOOTER #}

    {% include "footer.html" %}

</body>
</html>